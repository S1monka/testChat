(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{269:function(t,e,n){"use strict";n.r(e);var o=n(57),component=Object(o.a)({},void 0,void 0,!1,null,null,null);e.default=component.exports},314:function(t,e,n){"use strict";n.r(e);n(58);var o=n(6),r={fetch:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,n.dispatch("getMessages");case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{message:"",polling:null}},computed:{messages:function(){return this.$store.state.messages}},components:{chatWindow:function(){return n.e(8).then(n.bind(null,313))}},methods:{postMessage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("postMessage",t.message);case 2:t.message="",setTimeout((function(){t.scrollBottom()}),800);case 4:case"end":return e.stop()}}),e)})))()},pollData:function(){var t=this;this.polling=setInterval((function(){t.$store.dispatch("getMessages")}),1e3)},scrollBottom:function(){var t=this.$refs.window;t.scrollTop=t.scrollHeight},logout:function(){this.$store.commit("setLogout"),this.$router.push({name:"login",params:{login:"login"}})}},mounted:function(){this.scrollBottom(),this.pollData()},beforeDestroy:function(){clearInterval(this.polling)}},l=n(57),c=n(114),f=n.n(c),d=n(266),m=n(259),h=n(242),v=n(309),x=n(260),w=n(261),k=n(310),y=n(311),C=n(267),_=n(245),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticClass:"flex-grow-1 flex-shrink-0",attrs:{sm:"12",md:"10"}},[n("v-responsive",{staticClass:"overflow-y-hidden fill-height",attrs:{height:"500","min-height":"200","max-height":"550"}},[n("v-card",{staticClass:"d-flex flex-column fill-height",attrs:{flat:""}},[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",{staticClass:"text-h5"},[t._v("Chat")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-toolbar-title",{on:{click:t.logout}},[n("v-btn",{attrs:{icon:"",color:"primary"}},[n("v-icon",[t._v("mdi-logout")])],1)],1)],1),t._v(" "),n("v-card-text",{ref:"window",staticClass:"flex-grow-1 overflow-y-auto"},t._l(t.messages,(function(t,e){return n("chat-window",{key:"message_"+e,attrs:{msg:t}})})),1),t._v(" "),n("v-card-text",{staticClass:"flex-shrink-1 d-flex"},[n("v-text-field",{attrs:{label:"Type a message",type:"text",outlined:"",dense:"","hide-details":""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.postMessage(e)}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),n("v-btn",{staticClass:"ml-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:t.postMessage}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-send")])],1)],1)],1)],1)],1)}),[],!1,null,"0085e2e6",null);e.default=component.exports;f()(component,{ChatWindow:n(269).default}),f()(component,{VBtn:d.a,VCard:m.a,VCardText:h.b,VCol:v.a,VIcon:x.a,VResponsive:w.a,VSpacer:k.a,VTextField:y.a,VToolbar:C.a,VToolbarTitle:_.a})}}]);